{"mappings":"AAAA,aAEA,MAAMA,YAAcC,SAASC,cAAc,iBACrCC,gBAAkBF,SAASC,cAAc,kBACzCE,cAAgBH,SAASC,cAAc,wBACvCG,aAAeJ,SAASC,cAAc,mBACtCI,OAASL,SAASC,cAAc,QAChCK,iBAAmBN,SAASC,cAAc,YAC1CM,WAAa,EAEbC,QAAU,SAAUC,GACxB,OAAO,IAAIC,SAAQ,SAAUC,EAAGC,GAC9BC,YAAW,WACTD,EAAO,IAAIE,MAAM,wCAAwCL,Y,GACpD,IAAJA,E,KAMDM,MAAQ,CACZC,GAAI,EACJC,OAAQ,IAGJC,UAAYC,iBAChB,IAEE,MAAMC,QAAYV,QAAQW,KAAK,CAC7BC,MAAM,sCAnBcb,EAFP,EAGV,IAAIC,SAAQ,SAAUC,EAAGC,GAC9BC,YAAW,WACTD,EAAO,IAAIE,MAAM,wCAAwCL,Y,GACpD,IAAJA,E,OAkBGc,QAAaH,EAAII,OAEvB,IAAKJ,EAAIK,GAAI,MAAM,IAAIX,MAAM,GAAGS,EAAKG,YAAYN,EAAIO,WAGrD,MAAMC,KAAEA,GAASL,EACjBR,MAAMC,GAAKY,EAAKZ,GAChBD,MAAME,OAASW,EAAKX,M,CACpB,MAAOY,GACP,MAAMA,C,CA/BM,IAAUpB,C,EAmCpBqB,KAAO,WACXzB,OAAO0B,iBAAiB,SAASZ,eAAgBa,GAC/C,IAEE,IADYA,EAAEC,OAAOC,QAAQ,QACnB,OAEV9B,aAAa+B,MAAMC,QAAU,OAC7B9B,iBAAiB6B,MAAME,QAAU,EACjCnC,gBAAgBiC,MAAME,QAAU,QAE1BnB,YACNnB,YAAYuC,YAAcvB,MAAMC,GAChCb,cAAcgC,MAAMC,QAAU,QAC9BjC,cAAcmC,YAAc,KAAKvB,MAAME,WACvCX,iBAAiB6B,MAAME,QAAU,EACjCnC,gBAAgBiC,MAAME,QAAU,C,CAChC,MAAOR,GACPzB,aAAa+B,MAAMC,QAAU,QAC7BjC,cAAcgC,MAAMC,QAAU,OAC9B9B,iBAAiB6B,MAAME,QAAU,EACjCnC,gBAAgBiC,MAAME,QAAU,EAChCE,QAAQC,MAAM,GAAGX,W,MApBrBxB,OAAO0B,iBAAiB,SAASZ,eAAgBa,GAC/C,IAEE,IADYA,EAAEC,OAAOC,QAAQ,QACnB,OAEV9B,aAAa+B,MAAMC,QAAU,OAC7B9B,iBAAiB6B,MAAME,QAAU,EACjCnC,gBAAgBiC,MAAME,QAAU,QAE1BnB,YACNnB,YAAYuC,YAAcvB,MAAMC,GAChCb,cAAcgC,MAAMC,QAAU,QAC9BjC,cAAcmC,YAAc,KAAKvB,MAAME,WACvCX,iBAAiB6B,MAAME,QAAU,EACjCnC,gBAAgBiC,MAAME,QAAU,C,CAChC,MAAOR,GACPzB,aAAa+B,MAAMC,QAAU,QAC7BjC,cAAcgC,MAAMC,QAAU,OAC9B9B,iBAAiB6B,MAAME,QAAU,EACjCnC,gBAAgBiC,MAAME,QAAU,EAChCE,QAAQC,MAAM,GAAGX,W","sources":["src/js/script.js"],"sourcesContent":["\"use strict\";\n\nconst idContainer = document.querySelector(\".adviceId__id\");\nconst adviceContainer = document.querySelector(\".adviceContent\");\nconst adviceContent = document.querySelector(\".adviceContent__text\");\nconst errorMessage = document.querySelector(\".error__message\");\nconst button = document.querySelector(\".btn\");\nconst loadingAnimation = document.querySelector(\".loading\");\nconst timeOutSec = 5;\n\nconst timeout = function (s) {\n  return new Promise(function (_, reject) {\n    setTimeout(function () {\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\n    }, s * 1000);\n  });\n};\n\n////////////////////////////////////\n\nconst state = {\n  id: 0,\n  advice: \"\",\n};\n\nconst newAdvice = async function () {\n  try {\n    // call data\n    const res = await Promise.race([\n      fetch(\"https://api.adviceslip.com/advice\"),\n      timeout(timeOutSec),\n    ]);\n    const data = await res.json();\n\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\n\n    // store data\n    const { slip } = data;\n    state.id = slip.id;\n    state.advice = slip.advice;\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst init = function () {\n  button.addEventListener(\"click\", async function (e) {\n    try {\n      const btn = e.target.closest(\".btn\");\n      if (!btn) return;\n\n      errorMessage.style.display = \"none\";\n      loadingAnimation.style.opacity = 1;\n      adviceContainer.style.opacity = 0;\n\n      await newAdvice();\n      idContainer.textContent = state.id;\n      adviceContent.style.display = \"block\";\n      adviceContent.textContent = `‚Äù ${state.advice} ‚Äù`;\n      loadingAnimation.style.opacity = 0;\n      adviceContainer.style.opacity = 1;\n    } catch (err) {\n      errorMessage.style.display = \"block\";\n      adviceContent.style.display = \"none\";\n      loadingAnimation.style.opacity = 0;\n      adviceContainer.style.opacity = 1;\n      console.error(`${err} üí•üí•üí•`);\n    }\n  });\n};\n\ninit();\n"],"names":["idContainer","document","querySelector","adviceContainer","adviceContent","errorMessage","button","loadingAnimation","timeOutSec","timeout","s","Promise","_","reject","setTimeout","Error","state","id","advice","newAdvice","async","res","race","fetch","data","json","ok","message","status","slip","err","init","addEventListener","e","target","closest","style","display","opacity","textContent","console","error"],"version":3,"file":"index.3dd46232.js.map"}